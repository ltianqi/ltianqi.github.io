(function(t){function e(e){for(var a,o,r=e[0],c=e[1],l=e[2],p=0,h=[];p<r.length;p++)o=r[p],s[o]&&h.push(s[o][0]),s[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(h.length)h.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,r=1;r<i.length;r++){var c=i[r];0!==s[c]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=i[0]))}return t}var a={},s={0:0},n=[];function o(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=a,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(i,a,function(e){return t[e]}.bind(null,a));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;n.push([0,1]),i()})({0:function(t,e,i){t.exports=i("Vtdi")},"A0++":function(t,e,i){"use strict";var a=i("BPUQ"),s=i.n(a);s.a},BPUQ:function(t,e,i){},KzVw:function(t,e,i){t.exports=i.p+"img/top.4e514a0b.png"},NdZP:function(t,e,i){},VQAv:function(t,e,i){"use strict";var a=i("d/Dj"),s=i.n(a);s.a},Vtdi:function(t,e,i){"use strict";i.r(e);i("yt8O"),i("VRzm");var a,s,n,o,r,c,l,u=i("Kw5r"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Layout")],1)},h=[],d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"layout-wrap"},[i("div",{staticClass:"frame"},[i("h1",[t._v("全球态势3D图")]),i("div",{staticClass:"main"},[i("Global",{attrs:{attacks:t.attacks}}),i("div",{staticClass:"bottom"},[i("AttackTable",{directives:[{name:"show",rawName:"v-show",value:t.toggleTable,expression:"toggleTable"}],attrs:{attacks:t.attacks}}),t._m(0),i("span",{class:["toggle",{up:t.toggleTable}],on:{click:function(e){t.toggleTable=!t.toggleTable}}})],1)],1)])])},v=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"legend"},[i("p",{staticClass:"lv0"},[t._v("严重")]),i("p",{staticClass:"lv1"},[t._v("高危")]),i("p",{staticClass:"lv2"},[t._v("中危")]),i("p",{staticClass:"lv3"},[t._v("低危")])])}],f=[{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:4.2583,lon:8.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:34.2583,lon:108.9286}},risk:{level:1,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:34.2583,lon:18.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:-5.207083,lon:145.7887}},risk:{level:2,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:44.2583,lon:58.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:12.2583,lon:128.9286}},risk:{level:1,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:4.2583,lon:88.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:10.2583,lon:28.9286}},risk:{level:3,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:15.2583,lon:118.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:36.2583,lon:49.9286}},risk:{level:2,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:-4.2583,lon:78.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:-34.2583,lon:98.9286}},risk:{level:1,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:-48.2583,lon:4.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:-34.2583,lon:28.9286}},risk:{level:3,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:-28.2583,lon:63.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:-30.2583,lon:30.9286}},risk:{level:0,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:-10.2583,lon:9.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:-15.2583,lon:78.9286}},risk:{level:0,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:-6.2583,lon:53.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:-17.2583,lon:56.9286}},risk:{level:1,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:-18.2583,lon:33.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:34.2583,lon:108.9286}},risk:{level:1,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:-14.2583,lon:18.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:-12.2583,lon:8.9286}},risk:{level:1,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:-7.2583,lon:12.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:-1.2583,lon:22.9286}},risk:{level:1,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:-24.2583,lon:82.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:-18.2583,lon:53.9286}},risk:{level:1,level_name:"高危",name:"风险名称",desc:"风险描述..."}}],m=[],y={listener:function(t){m.push(t)},remove:function(t){}},_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tables"},[i("div",{staticClass:"count"},[i("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[t._m(0),i("tbody",t._l(t.filterAttacks,function(e){return i("tr",[i("td",[t._v(t._s(e.attack_source.country))]),i("td",[t._v(t._s(e.attack_source_ips))]),i("td",[t._v(t._s(e.attacked_times))])])}))])]),i("div",{staticClass:"detail"},[i("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[t._m(1),i("tbody",t._l(t.filterAttacks,function(e){return i("tr",[i("td",[t._v(t._s(e.attack_prefer.ip))]),i("td",[t._v(t._s(e.attack_prefer.times))]),i("td",[t._v(t._s(e.attack_time))]),i("td",[t._v(t._s(e.attack_ip.ip))]),i("td",[t._v(t._s(e.risk.level_name))]),i("td",[t._v(t._s(e.risk.desc))])])}))])])])},b=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("来源地域")]),i("th",[t._v("来源IP数")]),i("th",[t._v("被攻击次数")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("偏好攻击资产")]),i("th",[t._v("被攻击次数")]),i("th",[t._v("攻击时间")]),i("th",[t._v("攻击来源")]),i("th",[t._v("风险名称")]),i("th",[t._v("风险描述")])])])}],k={name:"AttachTable",props:["attacks"],computed:{filterAttacks:function(){var t=this.attacks.slice(0,5);return console.log(t),this.attacks.slice(0,5)}}},w=k,x=(i("ca0n"),i("KHd+")),g=Object(x["a"])(w,_,b,!1,null,null,null),A=g.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"global",attrs:{id:"global"}})},M=[],P=i("Womt"),T=!0,z=function(t){t.style,c=t.el,a=t.group,s=t.renderer,n=t.camera,o=t.topglow,r=t.scene,t.global,c.addEventListener("wheel",E,!1),c.addEventListener("mousedown",F,!1),Z()},V=5,O=new P["y"],j=new P["y"];function F(t){t.preventDefault(),t.stopPropagation(),clearTimeout(l),j.set(t.clientX,t.clientY),document.addEventListener("mousemove",N,!1),document.addEventListener("mouseup",W,!1)}var U=Math.PI/2;function N(t){T=!1,O.set(t.clientX,t.clientY);var e=a.rotation.x+.01*(O.y-j.y),i=.01*(O.x-j.x);e=Math.max(-U,Math.min(U,e)),a.rotation.x=e,a.rotation.y+=i,j.copy(O)}function W(){l=setTimeout(function(){T=!0},1e3),document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",W)}function E(t){t.deltaY<0?(n.position.z+=V,console.log(n.position.z),o.position.z+=2.3):t.deltaY>0&&(n.position.z-=V,o.position.z-=2.3),t.preventDefault(),t.stopPropagation()}function Z(){o.rotation.copy(n.rotation),o.updateMatrix(),requestAnimationFrame(Z),T&&(a.rotation.y-=.005),s.render(r,n)}var D=i("YJ2e"),R=i.n(D),L=i("KzVw"),S=i.n(L),$=function(){var t=(new P["w"]).load(R.a),e=new P["t"](220,220,220),i=new P["n"]({map:t,overdraw:.5,transparent:!0}),a=new P["m"](e,i);return a},I=222;function Y(t){var e=t.lat,i=t.lon,a=e*(Math.PI/180),s=-i*(Math.PI/180),n=new P["t"](4,40,40),o=new P["n"]({color:15956765,opacity:.5,overdraw:.5,transparent:!0}),r=new P["m"](n,o);return r.position.set(Math.cos(a)*Math.cos(s)*I,Math.sin(a)*I,Math.cos(a)*Math.sin(s)*I),r}var q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=new P["j"];return i.name="points",e.remove("points"),e.add(i),t.map(function(t){i.add(Y(t.attack_prefer.location)),i.add(Y(t.attack_ip.location))}),i};i("FLlr"),i("r1bV"),i("Y9lz"),i("bHtr");function G(t){this.positions=[],this.previous=[],this.next=[],this.side=[],this.opacity=t.opacity,this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this.start=0,this.geometry=new P["c"],this.widthCallback=null}function B(t,e,i,a,s){var n;if(t=t.subarray||t.slice?t:t.buffer,i=i.subarray||i.slice?i:i.buffer,t=e?t.subarray?t.subarray(e,s&&e+s):t.slice(e,s&&e+s):t,i.set)i.set(t,a);else for(n=0;n<t.length;n++)i[n+a]=t[n];return i}function J(t){var e=["precision highp float;","","attribute vec3 position;","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute vec2 uv;","attribute float counters;","","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform vec3 defaultColor;","uniform float opacity;","uniform float near;","uniform float far;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","\t vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","\t float pixelWidthRatio = 1. / (resolution.x * projectionMatrix[0][0]);","","    if(counters > opacity) {","      vColor = vec4( color, counters );","    } else {","      vColor = vec4( defaultColor, opacity );","    }","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","\t float pixelWidth = finalPosition.w * pixelWidthRatio;","    float w = 1.8 * pixelWidth * lineWidth * width;","","    if( sizeAttenuation == 1. ) {","        w = 1.8 * lineWidth * width;","    }","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec2 normal = vec2( -dir.y, dir.x );","    normal.x /= aspect;","    normal *= .5 * w;","","    vec4 offset = vec4( normal * side, 0.0, 1.0 );","    finalPosition.xy += offset.xy;","","    gl_Position = finalPosition;","","}"],i=["#extension GL_OES_standard_derivatives : enable","precision mediump float;","","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","void main() {","","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","}"];function a(t,e){return void 0===t?e:t}P["l"].call(this),t=t||{},this.lineWidth=a(t.lineWidth,1),this.map=a(t.map,null),this.useMap=a(t.useMap,0),this.alphaMap=a(t.alphaMap,null),this.useAlphaMap=a(t.useAlphaMap,0),this.color=a(t.color,new P["e"](16777215)),this.opacity=a(t.opacity,1),this.resolution=a(t.resolution,new P["y"](1,1)),this.sizeAttenuation=a(t.sizeAttenuation,1),this.near=a(t.near,1),this.far=a(t.far,1),this.dashArray=a(t.dashArray,0),this.dashOffset=a(t.dashOffset,0),this.dashRatio=a(t.dashRatio,.5),this.useDash=0!==this.dashArray?1:0,this.visibility=a(t.visibility,1),this.alphaTest=a(t.alphaTest,0),this.repeat=a(t.repeat,new P["y"](1,1));var s=new P["q"]({uniforms:{lineWidth:{type:"f",value:this.lineWidth},map:{type:"t",value:this.map},useMap:{type:"f",value:this.useMap},alphaMap:{type:"t",value:this.alphaMap},useAlphaMap:{type:"f",value:this.useAlphaMap},color:{type:"c",value:this.color},defaultColor:{type:"c",value:new P["e"](16777215)},opacity:{type:"f",value:this.opacity},resolution:{type:"v2",value:this.resolution},sizeAttenuation:{type:"f",value:this.sizeAttenuation},near:{type:"f",value:this.near},far:{type:"f",value:this.far},dashArray:{type:"f",value:this.dashArray},dashOffset:{type:"f",value:this.dashOffset},dashRatio:{type:"f",value:this.dashRatio},useDash:{type:"f",value:this.useDash},visibility:{type:"f",value:this.visibility},alphaTest:{type:"f",value:this.alphaTest},repeat:{type:"v2",value:this.repeat}},vertexShader:e.join("\r\n"),fragmentShader:i.join("\r\n")});return delete t.lineWidth,delete t.map,delete t.useMap,delete t.alphaMap,delete t.useAlphaMap,delete t.color,delete t.opacity,delete t.resolution,delete t.sizeAttenuation,delete t.near,delete t.far,delete t.dashArray,delete t.dashOffset,delete t.dashRatio,delete t.visibility,delete t.alphaTest,delete t.repeat,s.type="MeshLineMaterial",s.setValues(t),s}G.prototype.move=function(){var t=this,e=this.counters.length,i=e;this.counters=Array(e).fill(this.opacity);for(var a=e-2,s=this.start,n=i;n>1;n-=2){var o=Math.max(.3,n/i);if(s<=a&&(this.counters[s]=o,this.counters[s+1]=o),--s<=0)break}++this.start>e+i&&(this.start=0),console.log("....",this.counters),this.attributes.counters=new P["b"](new Float32Array(this.counters),1),this.geometry.addAttribute("counters",this.attributes.counters),requestAnimationFrame(function(){t.move()})},G.prototype.setGeometry=function(t,e){if(this.widthCallback=e,this.positions=[],this.counters=[],t instanceof P["i"])for(var i=0;i<t.vertices.length;i++){var a=t.vertices[i];e=i/t.vertices.length;this.positions.push(a.x,a.y,a.z),this.positions.push(a.x,a.y,a.z),this.counters.push(this.opacity),this.counters.push(this.opacity)}if(P["c"],t instanceof Float32Array||t instanceof Array)for(i=0;i<t.length;i+=3){e=i/t.length;this.positions.push(t[i],t[i+1],t[i+2]),this.positions.push(t[i],t[i+1],t[i+2]),this.counters.push(e),this.counters.push(e)}this.process()},G.prototype.compareV3=function(t,e){var i=6*t,a=6*e;return this.positions[i]===this.positions[a]&&this.positions[i+1]===this.positions[a+1]&&this.positions[i+2]===this.positions[a+2]},G.prototype.copyV3=function(t){var e=6*t;return[this.positions[e],this.positions[e+1],this.positions[e+2]]},G.prototype.process=function(){var t,e,i=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];for(var a=0;a<i;a++)this.side.push(1),this.side.push(-1);for(a=0;a<i;a++)t=this.widthCallback?this.widthCallback(a/(i-1)):1,this.width.push(t),this.width.push(t);for(a=0;a<i;a++)this.uvs.push(a/(i-1),0),this.uvs.push(a/(i-1),1);e=this.compareV3(0,i-1)?this.copyV3(i-2):this.copyV3(0),this.previous.push(e[0],e[1],e[2]),this.previous.push(e[0],e[1],e[2]);for(a=0;a<i-1;a++)e=this.copyV3(a),this.previous.push(e[0],e[1],e[2]),this.previous.push(e[0],e[1],e[2]);for(a=1;a<i;a++)e=this.copyV3(a),this.next.push(e[0],e[1],e[2]),this.next.push(e[0],e[1],e[2]);e=this.compareV3(i-1,0)?this.copyV3(1):this.copyV3(i-1),this.next.push(e[0],e[1],e[2]),this.next.push(e[0],e[1],e[2]);for(a=0;a<i-1;a++){var s=2*a;this.indices_array.push(s,s+1,s+2),this.indices_array.push(s+2,s+1,s+3)}this.attributes?(this.attributes.position.copyArray(new Float32Array(this.positions)),this.attributes.position.needsUpdate=!0,this.attributes.previous.copyArray(new Float32Array(this.previous)),this.attributes.previous.needsUpdate=!0,this.attributes.next.copyArray(new Float32Array(this.next)),this.attributes.next.needsUpdate=!0,this.attributes.side.copyArray(new Float32Array(this.side)),this.attributes.side.needsUpdate=!0,this.attributes.width.copyArray(new Float32Array(this.width)),this.attributes.width.needsUpdate=!0,this.attributes.uv.copyArray(new Float32Array(this.uvs)),this.attributes.uv.needsUpdate=!0,this.attributes.index.copyArray(new Uint16Array(this.indices_array)),this.attributes.index.needsUpdate=!0):this.attributes={position:new P["b"](new Float32Array(this.positions),3),previous:new P["b"](new Float32Array(this.previous),3),next:new P["b"](new Float32Array(this.next),3),side:new P["b"](new Float32Array(this.side),1),width:new P["b"](new Float32Array(this.width),1),uv:new P["b"](new Float32Array(this.uvs),2),index:new P["b"](new Uint16Array(this.indices_array),1),counters:new P["b"](new Float32Array(this.counters),1)},this.geometry.addAttribute("position",this.attributes.position),this.geometry.addAttribute("previous",this.attributes.previous),this.geometry.addAttribute("next",this.attributes.next),this.geometry.addAttribute("side",this.attributes.side),this.geometry.addAttribute("width",this.attributes.width),this.geometry.addAttribute("uv",this.attributes.uv),this.geometry.addAttribute("counters",this.attributes.counters),this.geometry.setIndex(this.attributes.index)},G.prototype.advance=function(t){var e=this.attributes.position.array,i=this.attributes.previous.array,a=this.attributes.next.array,s=e.length;if(!t)return e[s-6]=void 0,e[s-5]=void 0,e[s-4]=void 0,e[s-3]=void 0,e[s-2]=void 0,e[s-1]=void 0,a[s-6]=void 0,a[s-5]=void 0,a[s-4]=void 0,a[s-3]=void 0,a[s-2]=void 0,a[s-1]=void 0,this.attributes.position.needsUpdate=!0,this.attributes.previous.needsUpdate=!0,void(this.attributes.next.needsUpdate=!0);B(e,0,i,0,s),B(e,6,e,0,s-6),e[s-6]=t.x,e[s-5]=t.y,e[s-4]=t.z,e[s-3]=t.x,e[s-2]=t.y,e[s-1]=t.z,B(e,6,a,0,s-6),a[s-6]=t.x,a[s-5]=t.y,a[s-4]=t.z,a[s-3]=t.x,a[s-2]=t.y,a[s-1]=t.z,this.attributes.position.needsUpdate=!0,this.attributes.previous.needsUpdate=!0,this.attributes.next.needsUpdate=!0},J.prototype=Object.create(P["l"].prototype),J.prototype.constructor=J,J.prototype.copy=function(t){return P["l"].prototype.copy.call(this,t),this.lineWidth=t.lineWidth,this.map=t.map,this.useMap=t.useMap,this.alphaMap=t.alphaMap,this.useAlphaMap=t.useAlphaMap,this.color.copy(t.color),this.opacity=t.opacity,this.resolution.copy(t.resolution),this.sizeAttenuation=t.sizeAttenuation,this.near=t.near,this.far=t.far,this.dashArray.copy(t.dashArray),this.dashOffset.copy(t.dashOffset),this.dashRatio.copy(t.dashRatio),this.useDash=t.useDash,this.visibility=t.visibility,this.alphaTest=t.alphaTest,this.repeat.copy(t.repeat),this};var K=i("ZFwI"),Q=[14504268,15956765,5793731,3642090];function H(t){var e=t.opacity,i=t.points,a=t.lv;return this.length=i.lenght,this.points=i,this.opacity=e||.2,this.opa=1,this.geometry=new P["x"](new P["d"](i),20,2,16,!1),this.count=this.geometry.attributes.position.count,this.pos=this.count,this.material=new P["s"]({vertexColors:P["A"],transparent:!0,uniforms:{opacity:{type:"f",value:this.opacity},lColor:{type:"c",value:new P["e"](Q[a])},dColor:{type:"c",value:new P["e"](16777215)}},vertexShader:"\n      #include <common>\n      #include <uv_pars_vertex>\n      #include <uv2_pars_vertex>\n      #include <envmap_pars_vertex>\n      #include <color_pars_vertex>\n      #include <fog_pars_vertex>\n      #include <morphtarget_pars_vertex>\n      #include <skinning_pars_vertex>\n      #include <logdepthbuf_pars_vertex>\n      #include <clipping_planes_pars_vertex>\n\n      uniform vec3 dColor;\n      uniform vec3 lColor;\n      uniform float opacity;\n\n      attribute float opa;\n\n      varying vec4 varColor;\n\n      void main() {\n        if(opa <= opacity) {\n          varColor = vec4(dColor, opa);\n        } else {\n          varColor = vec4(lColor, opa);\n        }\n\n      \t#include <uv_vertex>\n      \t#include <uv2_vertex>\n      \t#include <color_vertex>\n      \t#include <skinbase_vertex>\n      \t#ifdef USE_ENVMAP\n      \t#include <beginnormal_vertex>\n      \t#include <morphnormal_vertex>\n      \t#include <skinnormal_vertex>\n      \t#include <defaultnormal_vertex>\n      \t#endif\n      \t#include <begin_vertex>\n      \t#include <morphtarget_vertex>\n      \t#include <skinning_vertex>\n      \t#include <project_vertex>\n      \t#include <logdepthbuf_vertex>\n      \t#include <worldpos_vertex>\n      \t#include <clipping_planes_vertex>\n      \t#include <envmap_vertex>\n      \t#include <fog_vertex>\n      }\n    ",fragmentShader:"\n      varying vec4 varColor;\n\n      void main() {\n        gl_FragColor = varColor;\n      }\n    "}),this.start(),new P["m"](this.geometry,this.material)}H.prototype.start=function(){for(var t=this,e=this.count,i=Array(e).fill(this.opacity),a=e-3,s=this.pos,n=e;n>1;n-=6){var o=Math.max(.4,n/e);if(s<=a&&(i[s]=o,i[s+1]=o,i[s+2]=o,i[s+3]=o,i[s+4]=o,i[s+5]=o),s-=6,s<=0)break}this.pos+=6,this.pos>2*e&&(this.pos=0),this.geometry.addAttribute("opa",new P["b"](new Float32Array(i),1)),requestAnimationFrame(function(){t.start()})};var X=224,tt=32,et=20,it=200,at=Math.PI/180;function st(t,e,i){return t<=e?e:t>=i?i:t}function nt(t,e,i){var a=(90-t)*at,s=(e+180)*at;return new P["z"](-i*Math.sin(a)*Math.cos(s),i*Math.cos(a),i*Math.sin(a)*Math.sin(s))}function ot(t,e){var i=t.lat,a=t.lon,s=e.lat,n=e.lon,o=nt(i,a,X),r=nt(s,n,X),c=st(.25*o.distanceTo(r),et,it),l=Object(K["a"])([a,i],[n,s]),u=l(.25),p=l(.75),h=nt(u[1],u[0],X+c),d=nt(p[1],p[0],X+c);return{start:o,end:r,spline:new P["f"](o,h,d,r)}}var rt=new P["m"](new P["i"]),ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return e.remove(rt),rt=new P["m"](new P["i"]),t.map(function(t){var e=ot(t.attack_ip.location,t.attack_prefer.location),i=e.spline,a=i.getPoints(tt-1),s=new H({points:a,lv:t.risk.level});s.name="rayline-".concat(t.attack_ip.location,"-").concat(t.attack_prefer.location),rt.add(s)}),e.add(rt),rt},lt=function(){var t=(new P["k"]).load(S.a),e=new P["v"](t);e.needsUpdate=!0;var i=new P["n"]({transparent:!0,opacity:.8,map:e}),a=new P["p"](220,220,220,220),s=new P["m"](a,i);return s.renderOrder=2,s.material.depthTest=!1,s.position.set(0,22,350),s},ut={name:"Global",props:["attacks"],mounted:function(){var t=this,e=this.$el,i=e.getBoundingClientRect(),a=new P["r"],s=new P["m"](new P["i"]),n=$(),o=lt(),r=new P["o"](45,i.width/i.height,.1,1500);r.position.set(0,-10,650),r.add(new P["a"](53826627)),r.add(new P["u"](16777215)),a.add(r),a.add(o),a.add(s),s.add(n);var c=new P["B"]({alpha:!0});c.setSize(i.width,i.height),c.setPixelRatio(window.devicePixelRatio),e.appendChild(c.domElement),c.render(a,r),this.$watch("attacks",function(){q(t.attacks,s),addLines(t.attacks,s)}),q(this.attacks,s),ct(this.attacks,s),z({style:i,group:s,global:n,renderer:c,camera:r,topglow:o,scene:a,el:e})}},pt=ut,ht=(i("VQAv"),Object(x["a"])(pt,C,M,!1,null,null,null)),dt=ht.exports,vt={name:"app",components:{AttackTable:A,Global:dt},created:function(){var t=this;y.listener(function(e){t.attacks=e})},data:function(){return{toggleTable:!0,attacks:f}}},ft=vt,mt=(i("iVpW"),Object(x["a"])(ft,d,v,!1,null,null,null)),yt=mt.exports,_t={name:"app",components:{Layout:yt}},bt=_t,kt=(i("A0++"),Object(x["a"])(bt,p,h,!1,null,null,null)),wt=kt.exports;u["a"].config.productionTip=!1,new u["a"]({render:function(t){return t(wt)}}).$mount("#app")},YJ2e:function(t,e,i){t.exports=i.p+"img/global.4f082be4.jpg"},ca0n:function(t,e,i){"use strict";var a=i("zTnq"),s=i.n(a);s.a},"d/Dj":function(t,e,i){},iVpW:function(t,e,i){"use strict";var a=i("NdZP"),s=i.n(a);s.a},zTnq:function(t,e,i){}});
//# sourceMappingURL=app.6baac1a4.js.map
(function(t){function e(e){for(var a,r,n=e[0],c=e[1],l=e[2],p=0,h=[];p<n.length;p++)r=n[p],s[r]&&h.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],a=!0,n=1;n<i.length;n++){var c=i[n];0!==s[c]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=i[0]))}return t}var a={},s={0:0},o=[];function r(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=a,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(i,a,function(e){return t[e]}.bind(null,a));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var u=c;o.push([0,1]),i()})({0:function(t,e,i){t.exports=i("Vtdi")},"A0++":function(t,e,i){"use strict";var a=i("BPUQ"),s=i.n(a);s.a},BPUQ:function(t,e,i){},KzVw:function(t,e,i){t.exports=i.p+"img/top.4e514a0b.png"},NdZP:function(t,e,i){},VQAv:function(t,e,i){"use strict";var a=i("d/Dj"),s=i.n(a);s.a},Vtdi:function(t,e,i){"use strict";i.r(e);i("yt8O"),i("VRzm");var a,s,o,r,n,c,l,u=i("Kw5r"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Layout")],1)},h=[],d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"layout-wrap"},[i("div",{staticClass:"frame"},[i("h1",[t._v("全球态势3D图")]),i("div",{staticClass:"main"},[i("Global",{attrs:{attacks:t.attacks}}),i("div",{staticClass:"bottom"},[i("AttackTable",{directives:[{name:"show",rawName:"v-show",value:t.toggleTable,expression:"toggleTable"}],attrs:{attacks:t.attacks}}),t._m(0),i("span",{class:["toggle",{up:t.toggleTable}],on:{click:function(e){t.toggleTable=!t.toggleTable}}})],1)],1)])])},v=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"legend"},[i("p",{staticClass:"lv0"},[t._v("严重")]),i("p",{staticClass:"lv1"},[t._v("高危")]),i("p",{staticClass:"lv2"},[t._v("中危")]),i("p",{staticClass:"lv3"},[t._v("低危")])])}],f=[{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:4.2583,lon:8.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:34.2583,lon:108.9286}},risk:{level:1,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:34.2583,lon:18.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:-5.207083,lon:145.7887}},risk:{level:2,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:44.2583,lon:58.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:12.2583,lon:128.9286}},risk:{level:1,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:4.2583,lon:88.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:10.2583,lon:28.9286}},risk:{level:3,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:15.2583,lon:118.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:36.2583,lon:49.9286}},risk:{level:2,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:-4.2583,lon:78.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:-34.2583,lon:98.9286}},risk:{level:1,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:-48.2583,lon:4.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:-34.2583,lon:28.9286}},risk:{level:3,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:-28.2583,lon:63.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:-30.2583,lon:30.9286}},risk:{level:0,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:-10.2583,lon:9.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:-15.2583,lon:78.9286}},risk:{level:0,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:-6.2583,lon:53.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:-17.2583,lon:56.9286}},risk:{level:1,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:-18.2583,lon:33.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:34.2583,lon:108.9286}},risk:{level:1,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:-14.2583,lon:18.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:-12.2583,lon:8.9286}},risk:{level:1,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:-7.2583,lon:12.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:-1.2583,lon:22.9286}},risk:{level:1,level_name:"高危",name:"风险名称",desc:"风险描述..."}},{attack_source:{country:"中国",subdivisions:"陕西",city:"西安",code:"CN"},attack_source_ips:67,attacked_times:209,attack_prefer:{ip:"10.0.80.12",times:12,location:{lat:-24.2583,lon:82.9286}},attack_time:"2018-05-16T13:39:47.905Z",attack_ip:{ip:"10.0.80.11",location:{lat:-18.2583,lon:53.9286}},risk:{level:1,level_name:"高危",name:"风险名称",desc:"风险描述..."}}],m=[],y={listener:function(t){m.push(t)},remove:function(t){}},_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tables"},[i("div",{staticClass:"count"},[i("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[t._m(0),i("tbody",t._l(t.filterAttacks,function(e){return i("tr",[i("td",[t._v(t._s(e.attack_source.country))]),i("td",[t._v(t._s(e.attack_source_ips))]),i("td",[t._v(t._s(e.attacked_times))])])}))])]),i("div",{staticClass:"detail"},[i("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[t._m(1),i("tbody",t._l(t.filterAttacks,function(e){return i("tr",[i("td",[t._v(t._s(e.attack_prefer.ip))]),i("td",[t._v(t._s(e.attack_prefer.times))]),i("td",[t._v(t._s(e.attack_time))]),i("td",[t._v(t._s(e.attack_ip.ip))]),i("td",[t._v(t._s(e.risk.level_name))]),i("td",[t._v(t._s(e.risk.desc))])])}))])])])},k=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("来源地域")]),i("th",[t._v("来源IP数")]),i("th",[t._v("被攻击次数")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("偏好攻击资产")]),i("th",[t._v("被攻击次数")]),i("th",[t._v("攻击时间")]),i("th",[t._v("攻击来源")]),i("th",[t._v("风险名称")]),i("th",[t._v("风险描述")])])])}],b={name:"AttachTable",props:["attacks"],computed:{filterAttacks:function(){var t=this.attacks.slice(0,5);return console.log(t),this.attacks.slice(0,5)}}},w=b,g=(i("ca0n"),i("KHd+")),x=Object(g["a"])(w,_,k,!1,null,null,null),A=x.exports,M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"global",attrs:{id:"global"}})},C=[],P=i("Womt"),T=!0,z=function(t){t.style,c=t.el,a=t.group,s=t.renderer,o=t.camera,r=t.topglow,n=t.scene,t.global,c.addEventListener("wheel",Z,!1),c.addEventListener("mousedown",U,!1),D()},V=5,O=new P["v"],j=new P["v"];function U(t){t.preventDefault(),t.stopPropagation(),clearTimeout(l),j.set(t.clientX,t.clientY),document.addEventListener("mousemove",W,!1),document.addEventListener("mouseup",N,!1)}var F=Math.PI/2;function W(t){T=!1,O.set(t.clientX,t.clientY);var e=a.rotation.x+.01*(O.y-j.y),i=.01*(O.x-j.x);e=Math.max(-F,Math.min(F,e)),a.rotation.x=e,a.rotation.y+=i,j.copy(O)}function N(){l=setTimeout(function(){T=!0},1e3),document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",N)}function Z(t){t.deltaY<0?(o.position.z+=V,console.log(o.position.z),r.position.z+=2.3):t.deltaY>0&&(o.position.z-=V,r.position.z-=2.3),t.preventDefault(),t.stopPropagation()}function D(){r.rotation.copy(o.rotation),r.updateMatrix(),requestAnimationFrame(D),T&&(a.rotation.y-=.005),s.render(n,o)}var E=i("YJ2e"),R=i.n(E),L=i("KzVw"),$=i.n(L),S=function(){var t=(new P["u"]).load(R.a),e=new P["r"](220,220,220),i=new P["m"]({map:t,overdraw:.5,transparent:!0}),a=new P["l"](e,i);return a},I=222;function Y(t){var e=t.lat,i=t.lon,a=e*(Math.PI/180),s=-i*(Math.PI/180),o=new P["r"](4,40,40),r=new P["m"]({color:15956765,opacity:.5,overdraw:.5,transparent:!0}),n=new P["l"](o,r);return n.position.set(Math.cos(a)*Math.cos(s)*I,Math.sin(a)*I,Math.cos(a)*Math.sin(s)*I),n}var G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=new P["i"];return i.name="points",e.remove("points"),e.add(i),t.map(function(t){i.add(Y(t.attack_prefer.location)),i.add(Y(t.attack_ip.location))}),i};i("FLlr"),i("r1bV"),i("Y9lz"),i("bHtr");function q(t){this.positions=[],this.previous=[],this.next=[],this.side=[],this.opacity=t.opacity,this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this.start=0,this.geometry=new P["c"],this.widthCallback=null}function J(t,e,i,a,s){var o;if(t=t.subarray||t.slice?t:t.buffer,i=i.subarray||i.slice?i:i.buffer,t=e?t.subarray?t.subarray(e,s&&e+s):t.slice(e,s&&e+s):t,i.set)i.set(t,a);else for(o=0;o<t.length;o++)i[o+a]=t[o];return i}function K(t){var e=["precision highp float;","","attribute vec3 position;","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute vec2 uv;","attribute float counters;","","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform vec3 defaultColor;","uniform float opacity;","uniform float near;","uniform float far;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","\t vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","\t float pixelWidthRatio = 1. / (resolution.x * projectionMatrix[0][0]);","","    if(counters > opacity) {","      vColor = vec4( color, counters );","    } else {","      vColor = vec4( defaultColor, opacity );","    }","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","\t float pixelWidth = finalPosition.w * pixelWidthRatio;","    float w = 1.8 * pixelWidth * lineWidth * width;","","    if( sizeAttenuation == 1. ) {","        w = 1.8 * lineWidth * width;","    }","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec2 normal = vec2( -dir.y, dir.x );","    normal.x /= aspect;","    normal *= .5 * w;","","    vec4 offset = vec4( normal * side, 0.0, 1.0 );","    finalPosition.xy += offset.xy;","","    gl_Position = finalPosition;","","}"],i=["#extension GL_OES_standard_derivatives : enable","precision mediump float;","","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","void main() {","","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","}"];function a(t,e){return void 0===t?e:t}P["k"].call(this),t=t||{},this.lineWidth=a(t.lineWidth,1),this.map=a(t.map,null),this.useMap=a(t.useMap,0),this.alphaMap=a(t.alphaMap,null),this.useAlphaMap=a(t.useAlphaMap,0),this.color=a(t.color,new P["d"](16777215)),this.opacity=a(t.opacity,1),this.resolution=a(t.resolution,new P["v"](1,1)),this.sizeAttenuation=a(t.sizeAttenuation,1),this.near=a(t.near,1),this.far=a(t.far,1),this.dashArray=a(t.dashArray,0),this.dashOffset=a(t.dashOffset,0),this.dashRatio=a(t.dashRatio,.5),this.useDash=0!==this.dashArray?1:0,this.visibility=a(t.visibility,1),this.alphaTest=a(t.alphaTest,0),this.repeat=a(t.repeat,new P["v"](1,1));var s=new P["p"]({uniforms:{lineWidth:{type:"f",value:this.lineWidth},map:{type:"t",value:this.map},useMap:{type:"f",value:this.useMap},alphaMap:{type:"t",value:this.alphaMap},useAlphaMap:{type:"f",value:this.useAlphaMap},color:{type:"c",value:this.color},defaultColor:{type:"c",value:new P["d"](16777215)},opacity:{type:"f",value:this.opacity},resolution:{type:"v2",value:this.resolution},sizeAttenuation:{type:"f",value:this.sizeAttenuation},near:{type:"f",value:this.near},far:{type:"f",value:this.far},dashArray:{type:"f",value:this.dashArray},dashOffset:{type:"f",value:this.dashOffset},dashRatio:{type:"f",value:this.dashRatio},useDash:{type:"f",value:this.useDash},visibility:{type:"f",value:this.visibility},alphaTest:{type:"f",value:this.alphaTest},repeat:{type:"v2",value:this.repeat}},vertexShader:e.join("\r\n"),fragmentShader:i.join("\r\n")});return delete t.lineWidth,delete t.map,delete t.useMap,delete t.alphaMap,delete t.useAlphaMap,delete t.color,delete t.opacity,delete t.resolution,delete t.sizeAttenuation,delete t.near,delete t.far,delete t.dashArray,delete t.dashOffset,delete t.dashRatio,delete t.visibility,delete t.alphaTest,delete t.repeat,s.type="MeshLineMaterial",s.setValues(t),s}q.prototype.move=function(){var t=this,e=this.counters.length,i=e;this.counters=Array(e).fill(this.opacity);for(var a=e-2,s=this.start,o=i;o>1;o-=2){var r=Math.max(.3,o/i);if(s<=a&&(this.counters[s]=r,this.counters[s+1]=r),--s<=0)break}++this.start>e+i&&(this.start=0),this.attributes.counters=new P["b"](new Float32Array(this.counters),1),this.geometry.addAttribute("counters",this.attributes.counters),requestAnimationFrame(function(){t.move()})},q.prototype.setGeometry=function(t,e){if(this.widthCallback=e,this.positions=[],this.counters=[],t instanceof P["h"])for(var i=0;i<t.vertices.length;i++){var a=t.vertices[i];e=i/t.vertices.length;this.positions.push(a.x,a.y,a.z),this.positions.push(a.x,a.y,a.z),this.counters.push(this.opacity),this.counters.push(this.opacity)}if(P["c"],t instanceof Float32Array||t instanceof Array)for(i=0;i<t.length;i+=3){e=i/t.length;this.positions.push(t[i],t[i+1],t[i+2]),this.positions.push(t[i],t[i+1],t[i+2]),this.counters.push(e),this.counters.push(e)}this.process()},q.prototype.compareV3=function(t,e){var i=6*t,a=6*e;return this.positions[i]===this.positions[a]&&this.positions[i+1]===this.positions[a+1]&&this.positions[i+2]===this.positions[a+2]},q.prototype.copyV3=function(t){var e=6*t;return[this.positions[e],this.positions[e+1],this.positions[e+2]]},q.prototype.process=function(){var t,e,i=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];for(var a=0;a<i;a++)this.side.push(1),this.side.push(-1);for(a=0;a<i;a++)t=this.widthCallback?this.widthCallback(a/(i-1)):1,this.width.push(t),this.width.push(t);for(a=0;a<i;a++)this.uvs.push(a/(i-1),0),this.uvs.push(a/(i-1),1);e=this.compareV3(0,i-1)?this.copyV3(i-2):this.copyV3(0),this.previous.push(e[0],e[1],e[2]),this.previous.push(e[0],e[1],e[2]);for(a=0;a<i-1;a++)e=this.copyV3(a),this.previous.push(e[0],e[1],e[2]),this.previous.push(e[0],e[1],e[2]);for(a=1;a<i;a++)e=this.copyV3(a),this.next.push(e[0],e[1],e[2]),this.next.push(e[0],e[1],e[2]);e=this.compareV3(i-1,0)?this.copyV3(1):this.copyV3(i-1),this.next.push(e[0],e[1],e[2]),this.next.push(e[0],e[1],e[2]);for(a=0;a<i-1;a++){var s=2*a;this.indices_array.push(s,s+1,s+2),this.indices_array.push(s+2,s+1,s+3)}this.attributes?(this.attributes.position.copyArray(new Float32Array(this.positions)),this.attributes.position.needsUpdate=!0,this.attributes.previous.copyArray(new Float32Array(this.previous)),this.attributes.previous.needsUpdate=!0,this.attributes.next.copyArray(new Float32Array(this.next)),this.attributes.next.needsUpdate=!0,this.attributes.side.copyArray(new Float32Array(this.side)),this.attributes.side.needsUpdate=!0,this.attributes.width.copyArray(new Float32Array(this.width)),this.attributes.width.needsUpdate=!0,this.attributes.uv.copyArray(new Float32Array(this.uvs)),this.attributes.uv.needsUpdate=!0,this.attributes.index.copyArray(new Uint16Array(this.indices_array)),this.attributes.index.needsUpdate=!0):this.attributes={position:new P["b"](new Float32Array(this.positions),3),previous:new P["b"](new Float32Array(this.previous),3),next:new P["b"](new Float32Array(this.next),3),side:new P["b"](new Float32Array(this.side),1),width:new P["b"](new Float32Array(this.width),1),uv:new P["b"](new Float32Array(this.uvs),2),index:new P["b"](new Uint16Array(this.indices_array),1),counters:new P["b"](new Float32Array(this.counters),1)},this.geometry.addAttribute("position",this.attributes.position),this.geometry.addAttribute("previous",this.attributes.previous),this.geometry.addAttribute("next",this.attributes.next),this.geometry.addAttribute("side",this.attributes.side),this.geometry.addAttribute("width",this.attributes.width),this.geometry.addAttribute("uv",this.attributes.uv),this.geometry.addAttribute("counters",this.attributes.counters),this.geometry.setIndex(this.attributes.index)},q.prototype.advance=function(t){var e=this.attributes.position.array,i=this.attributes.previous.array,a=this.attributes.next.array,s=e.length;if(!t)return e[s-6]=void 0,e[s-5]=void 0,e[s-4]=void 0,e[s-3]=void 0,e[s-2]=void 0,e[s-1]=void 0,a[s-6]=void 0,a[s-5]=void 0,a[s-4]=void 0,a[s-3]=void 0,a[s-2]=void 0,a[s-1]=void 0,this.attributes.position.needsUpdate=!0,this.attributes.previous.needsUpdate=!0,void(this.attributes.next.needsUpdate=!0);J(e,0,i,0,s),J(e,6,e,0,s-6),e[s-6]=t.x,e[s-5]=t.y,e[s-4]=t.z,e[s-3]=t.x,e[s-2]=t.y,e[s-1]=t.z,J(e,6,a,0,s-6),a[s-6]=t.x,a[s-5]=t.y,a[s-4]=t.z,a[s-3]=t.x,a[s-2]=t.y,a[s-1]=t.z,this.attributes.position.needsUpdate=!0,this.attributes.previous.needsUpdate=!0,this.attributes.next.needsUpdate=!0},K.prototype=Object.create(P["k"].prototype),K.prototype.constructor=K,K.prototype.copy=function(t){return P["k"].prototype.copy.call(this,t),this.lineWidth=t.lineWidth,this.map=t.map,this.useMap=t.useMap,this.alphaMap=t.alphaMap,this.useAlphaMap=t.useAlphaMap,this.color.copy(t.color),this.opacity=t.opacity,this.resolution.copy(t.resolution),this.sizeAttenuation=t.sizeAttenuation,this.near=t.near,this.far=t.far,this.dashArray.copy(t.dashArray),this.dashOffset.copy(t.dashOffset),this.dashRatio.copy(t.dashRatio),this.useDash=t.useDash,this.visibility=t.visibility,this.alphaTest=t.alphaTest,this.repeat.copy(t.repeat),this};var Q=i("ZFwI"),B=224,H=32,X=20,tt=200,et=Math.PI/180;function it(t,e,i){return t<=e?e:t>=i?i:t}function at(t,e,i){var a=(90-t)*et,s=(e+180)*et;return new P["w"](-i*Math.sin(a)*Math.cos(s),i*Math.cos(a),i*Math.sin(a)*Math.sin(s))}function st(t,e){var i=t.lat,a=t.lon,s=e.lat,o=e.lon,r=at(i,a,B),n=at(s,o,B),c=it(.25*r.distanceTo(n),X,tt),l=Object(Q["a"])([a,i],[o,s]),u=l(.25),p=l(.75),h=at(u[1],u[0],B+c),d=at(p[1],p[0],B+c);return{start:r,end:n,spline:new P["e"](r,h,d,n)}}var ot=[14504268,15956765,5793731,3642090];function rt(t,e){var i=new K({color:new P["d"](ot[e]),lineWidth:4,opacity:.2,transparent:!0,side:P["g"]}),a=new P["h"];a.vertices=t,a.colors.push(new P["d"](16777215),new P["d"](9277057));var s=new q({opacity:.2});return s.setGeometry(a),s.move(),new P["l"](s.geometry,i)}var nt=new P["l"](new P["h"]),ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return e.remove(nt),nt=new P["l"](new P["h"]),t.map(function(t){var e=st(t.attack_ip.location,t.attack_prefer.location),i=e.spline,a=i.getPoints(H-1),s=rt(a,t.risk.level);s.name="rayline-".concat(t.attack_ip.location,"-").concat(t.attack_prefer.location),nt.add(s)}),e.add(nt),nt},lt=function(){var t=(new P["j"]).load($.a),e=new P["t"](t);e.needsUpdate=!0;var i=new P["m"]({transparent:!0,opacity:.8,map:e}),a=new P["o"](220,220,220,220),s=new P["l"](a,i);return s.renderOrder=2,s.material.depthTest=!1,s.position.set(0,22,350),s},ut={name:"Global",props:["attacks"],mounted:function(){var t=this,e=this.$el,i=e.getBoundingClientRect(),a=new P["q"],s=new P["l"](new P["h"]),o=S(),r=lt(),n=new P["n"](45,i.width/i.height,.1,1500);n.position.set(0,-10,650),n.add(new P["a"](53826627)),n.add(new P["s"](16777215)),a.add(n),a.add(r),a.add(s),s.add(o);var c=new P["x"]({alpha:!0});c.setSize(i.width,i.height),c.setPixelRatio(window.devicePixelRatio),e.appendChild(c.domElement),c.render(a,n),this.$watch("attacks",function(){G(t.attacks,s),addLines(t.attacks,s)}),G(this.attacks,s),ct(this.attacks,s),z({style:i,group:s,global:o,renderer:c,camera:n,topglow:r,scene:a,el:e})}},pt=ut,ht=(i("VQAv"),Object(g["a"])(pt,M,C,!1,null,null,null)),dt=ht.exports,vt={name:"app",components:{AttackTable:A,Global:dt},created:function(){var t=this;y.listener(function(e){t.attacks=e})},data:function(){return{toggleTable:!0,attacks:f}}},ft=vt,mt=(i("iVpW"),Object(g["a"])(ft,d,v,!1,null,null,null)),yt=mt.exports,_t={name:"app",components:{Layout:yt}},kt=_t,bt=(i("A0++"),Object(g["a"])(kt,p,h,!1,null,null,null)),wt=bt.exports;u["a"].config.productionTip=!1,new u["a"]({render:function(t){return t(wt)}}).$mount("#app")},YJ2e:function(t,e,i){t.exports=i.p+"img/global.4f082be4.jpg"},ca0n:function(t,e,i){"use strict";var a=i("zTnq"),s=i.n(a);s.a},"d/Dj":function(t,e,i){},iVpW:function(t,e,i){"use strict";var a=i("NdZP"),s=i.n(a);s.a},zTnq:function(t,e,i){}});
//# sourceMappingURL=app.77fd6d78.js.map